\documentclass[
  % a5paper,
  a4paper,
  % pagesize,
  9pt,
  % bibtotoc,
  pointlessnumbers,
  normalheadings,
  % DIV=9,
  twoside=false
]{book}

\usepackage[brazil]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage[sc]{mathpazo}
% \usepackage{palatino}
% \linespread{1.05} 
\usepackage[scaled=0.85]{beramono}

%-----------------------------------------------------------------------

\usepackage{amssymb, amsmath}
\usepackage{ifxetex, ifluatex}

\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
    \usepackage{xltxtra,xunicode}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
  \newcommand{\euro}{€}
\fi

% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}

%-----------------------------------------------------------------------
% knitr quando faz render em Rmd para gerar tex.

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{{#1}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{{#1}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\ErrorTok}[1]{\textbf{{#1}}}
\newcommand{\NormalTok}[1]{{#1}}

%-----------------------------------------------------------------------
% knitr quando faz knit em Rnw para gerar tex

% \usepackage[]{graphicx}\usepackage[]{color}
% \makeatletter
% \def\maxwidth{ %
%   \ifdim\Gin@nat@width>\linewidth
%     \linewidth
%   \else
%     \Gin@nat@width
%   \fi
% }
% \makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlstd}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
  \def\at@end@of@kframe{}%
  \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
\begin{minipage}{\columnwidth}%
  \fi\fi%
  \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
    \colorbox{shadecolor}{##1}\hskip-\fboxsep
    % There is no \\@totalrightmargin, so:
    \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
  \MakeFramed {\advance\hsize-\width
    \@totalleftmargin\z@ \linewidth\hsize
    \@setminipage}}%
{\par\unskip\endMakeFramed%
  \at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}

%-----------------------------------------------------------------------

\usepackage{graphicx}
\makeatletter
\def\maxwidth{
  \ifdim\Gin@nat@width>\linewidth\linewidth
  \else
  \Gin@nat@width\fi}
\def\maxheight{
  \ifdim\Gin@nat@height>\textheight\textheight
  \else
  \Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}

\ifxetex
  \usepackage[setpagesize=false, % page size defined by xetex
              unicode=false, % unicode breaks when used with xetex
              xetex]{hyperref}
\else
  \usepackage[unicode=true]{hyperref}
\fi

\hypersetup{breaklinks=true,
            bookmarks=true,
            pdfauthor={},
            pdftitle={},
            colorlinks=true,
            citecolor=blue,
            urlcolor=blue,
            linkcolor=magenta,
            pdfborder={0 0 0}}
\urlstyle{same}  % don't use monospace font for urls

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\emergencystretch}{3em}  % prevent overfull lines

\setcounter{secnumdepth}{5}

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

%-----------------------------------------------------------------------

\title{Apostila Git}
\pretitle{\vspace{\droptitle}}
\posttitle{}

\author{PET Estatística UFPR}
\preauthor{}\postauthor{}

\date{2015}
\predate{}\postdate{}

\usepackage{tikz}
% Color used in the title page.
\definecolor[named]{color01}{rgb}{.2,.4,.6} 

\usepackage{wrapfig}
\usepackage{wallpaper} 
\usepackage{menukeys}
\usepackage{pdflscape}
\usepackage{multicol}
\usepackage{cleveref}

\usepackage[labelsep=colon]{caption}

%-----------------------------------------------------------------------
% Define ambiente para os Exemplos de Rotina.

\usepackage{float}   % Controla e define objetos flutuantes.
\usepackage{tocloft} % Controla lista de objetos flutuantes.

% Nome dessa lista.
\newcommand{\listofprogramname}{Rotinas}

% Configura os arquivos auxiliares para fazer a lista.
\newlistof{program}{lol}{\listofprogramname}

\makeatletter
\newcommand\floatc@simple[2]{{\@fs@cfont #1 #2}\par}
\newcommand\fs@simple{
  \def\@fs@cfont{}\let\@fs@capt\floatc@simple
  \def\@fs@pre{}%
  \def\@fs@post{}%
  \def\@fs@mid{\kern8pt}%
  \let\@fs@iftopcapt\iftrue
}
\makeatother

\floatstyle{simple}
\newfloat{program}{thp}{lol}[chapter] % Define ambiente
\floatname{program}{Rotina}           % Rótulo na legenda.

%% Aparencia do sumário de rotinas
\renewcommand*\cftprogrampresnum{Rotina~}
\settowidth{\cftprogramnumwidth}{\cftprogrampresnum}
\setlength{\cftprogramindent}{0cm}
\renewcommand{\cftprogramaftersnumb}{\qquad}
\renewcommand{\cftprogramaftersnum}{:}

%-----------------------------------------------------------------------

\begin{document}

% \maketitle

%-----------------------------------------------------------------------
% Capa.

\begin{titlepage}
  % \centering{{\fontsize{40}{48}\selectfont \thetitle}}\\
  % 
  % \vspace{10mm}
  % \centering{\Large{\theauthor}}\\
  % \vspace{\fill} \centering \large{\thedate}

% Ideia de capa baseada em:
% http://www.latextemplates.com/template/ebook
% https://www.overleaf.com/3861001pgjtwv#/11122365/
\thispagestyle{empty}
\ThisCenterWallPaper{0.9}{./images/apostila_capa.pdf}
% Add the background image, the first argument is the scaling - adjust
% this as necessary so the image fits the entire page.

% \begin{tikzpicture}[remember picture, overlay]
% \node [rectangle, rounded corners, fill=white, opacity=0.75,
%   anchor=south west, minimum width=5cm, minimum height=4cm]
%   (box) at (-0.5,-10) (box){};
% % White rectangle - "minimum width/height" adjust the width and height
% % of the box; "(-0.5,-10)" adjusts the position on the page.
% 
% \node[anchor=west,
%   color01,
%   font=\sffamily\bfseries\scshape\Large,
%   xshift=-1.5cm, yshift=-1cm, text width=4cm]
%   at (box.north){\thetitle}; 
% % "Text width" adjusts the wrapping width, "xshift/yshift" adjust the
% % position relative to the white rectangle.
% 
% \node[anchor=west,
%   color01,
%   font=\sffamily\bfseries,
%   xshift=-1.5cm, yshift=-2.5cm, text width=4cm]
%   at (box.north){\theauthor};
% % "Text width" adjusts the wrapping width, "xshift/yshift" adjust the
% % position relative to the white rectangle.
% \end{tikzpicture}

$\phantom{0}$

\end{titlepage}

%-----------------------------------------------------------------------
% Dedicatórias.

\clearpage
$\phantom{0}$
\thispagestyle{empty}

\pagebreak
% \newpage
\thispagestyle{empty}
\vspace*{2cm}

\begin{center}
  \Large{
    \parbox{10cm}{
      \begin{raggedright}
        {\Large
          \textit{Não é a vontade de vencer que ganha o jogo, e sim a
            vontade de se preparar para vencê-lo.}
        }
	
        \vspace{.5cm}\hfill{---Paul ``Bear'' Bryant}
      \end{raggedright}
    }
  }
\end{center}

\clearpage
$\phantom{0}$
\thispagestyle{empty}

\pagebreak

%-----------------------------------------------------------------------
% Agradecimentos.

%-----------------------------------------------------------------------
% Tabela de conteúdo.

\hypersetup{linkcolor=black}
\setcounter{tocdepth}{2}
\tableofcontents

%-----------------------------------------------------------------------
% Capítulos.

\chapter{Sistemas de controle de versão}
\input{cap01.tex}

\chapter{Instalação e Configuração}
\input{cap02.tex}

\chapter{Repositórios Locais}
\input{cap03.tex}

\chapter{Projetos Remotos}
\input{cap04.tex}

\chapter{Serviços Web para Projetos Git}
\input{cap05.tex}

\chapter{Ferramentas gráficas}
\input{cap06.tex}

\chapter{Trabalhando em equipe}
\input{cap07.tex}

% \input{cap08.tex}
% \input{cap09.tex}

\addcontentsline{toc}{chapter}{Apêndice}
\input{./cap08/cap08_er.tex}

\chapter{Dicionário de termos}
\input{./cap08/cap08_dt.tex}

\end{document}

%-----------------------------------------------------------------------