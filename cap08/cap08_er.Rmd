---
title: "Exemplos de Rotina"
author: "PET Estatística UFPR"
graphics: yes
output:
  pdf_document:
    template: ../template.tex
    highlight: default
    toc: true
    toc_depth: 2
    keep_tex: true
    number_sections: true
---

\appendix

\chapter{Exemplos de Rotinas Git}

Neste apêndice são descritas brevemente algumas das rotinas mais usuais
em projetos sob sistema de versionamento Git. A maioria dos exemplos
foram apresentados no decorrer da apostila e estão resumidos neste
coletânea.

\pagebreak

\routine{Clonar, Modificar e Subir}

```{r, engine='bash', echo=TRUE, eval=FALSE}
# Clonar o projeto desta apostila:
git clone git@gitlab.c3sl.ufpr.br:pet-estatistica/apostila-git.git

# Modifique o projeto antes de executar o código abaixo.

# Commitar o projeto:
git commit -a -m "Sua Mensagem de Commit"
# Enviar projeto ao servidor (branch master, servidor origin):
git push origin master

```

\routine{Resolver conflito de merge}

```{r, engine='bash', eval=FALSE, echo=TRUE}
# Requisitar merge:
git merge ramo_teste

# Resolver conflitos manualmente.

# Finalizar merge com o commit:
git commit -a -m "Merge do ramo_teste"

```

\routine{Incorporar o remoto ao local}

```{r, engine='bash', eval=FALSE, echo=TRUE}
# Listando os servidores remotos:
git remote
# Adicionando novo remote com nome remoto:
git remote add remoto git@gitlab.c3sl.ufpr.br:pet-estatistica/apostila-git.git
# Atualizando arquivos locais:
git pull
```

\routine{Resolver um bug}

```{r, engine='bash', eval=FALSE, echo=TRUE}

git branch bugfix
git checkout bugfix

# Modifica o código de acordo com o necessário.

git commit -a -m "Bug corrigido"
git checkout master
git merge bugfix
git branch -d bugfix

```

\routine{Deletar ramos}

```{r, engine='bash', echo=TRUE, eval=FALSE}
# Listar ramos:
git branch
# Deletar ramo local:
git branch -d "nome_ramo"
# Deletar ramo remoto:
git push origin :nome_ramo
```

\routine{Criar ramo de um commit passado}

```{r, engine='bash', echo=TRUE, eval=FALSE}
# Verificar código commit:
git log
# Criando branch com commit do código
# ec3650c8661d75b486a236e3d416ab58db1d596a:
git branch novo_branch ec3650c8661d75b486a236e3d416ab58db1d596a

# Mudando para novo_branch
git checkout novo_branch

```

\routine{Voltar o projeto para um commit}

```{r, engine='bash', echo=TRUE, eval=FALSE}
# Listando commits pelo nome e código de identificação:
git log --pretty=oneline

# Voltando a um commit anterior, em que seu código 
#de identificação é: ec3650c8661d75b486a236e3d416ab58db1d596a.
git checkout ec3650c8661d75b486a236e3d416ab58db1d596a

```

\routine{Reescrever mensagem de commit}

```{r, engine='bash', echo=TRUE, eval=FALSE}
git log --oneline
git commit --amend "Correção de Commit"
git push -f origin master
```
